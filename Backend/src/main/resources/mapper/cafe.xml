<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mapper.cafe">

	<select id="getCafeList" resultType="com.latte.dto.CafeDto">
		SELECT
		cafe_id,
		cafe_name,
		cafe_address,
		cafe_phone,
		latitude,
		longitude,
		like_count,
		tag,
		mon_open,
		mon_close,
		tue_open,
		tue_close,
		wed_open,
		wed_close,
		thu_open,
		thu_close,
		fri_open,
		fri_close,
		sat_open,
		sat_close,
		sun_open,
		sun_close,
		closed
		from
		cafe;
	</select>

	<select id="getCafeById" parameterType="java.lang.Integer"
		resultType="com.latte.dto.CafeDto">
		SELECT
		cafe_name,
		cafe_address,
		cafe_phone,
		latitude,
		longitude,
		like_count,
		tag,
		mon_open,
		mon_close,
		tue_open,
		tue_close,
		wed_open,
		wed_close,
		thu_open,
		thu_close,
		fri_open,
		fri_close,
		sat_open,
		sat_close,
		sun_open,
		sun_close,
		closed
		from
		cafe
		WHERE
		cafe_id =
		#{cafe_id};
	</select>


	<select id="getCafeByName" parameterType="java.lang.String"
		resultType="com.latte.dto.CafeDto">
		SELECT
		cafe_id,
		cafe_address,
		cafe_phone,
		latitude,
		longitude,
		like_count,
		tag,
		mon_open,
		mon_close,
		tue_open,
		tue_close,
		wed_open,
		wed_close,
		thu_open,
		thu_close,
		fri_open,
		fri_close,
		sat_open,
		sat_close,
		sun_open,
		sun_close,
		closed
		from
		cafe
		where
		cafe_name like
		'%'+#{cafe_name}+'%';
	</select>

	<select id="getCafeByAddress" parameterType="java.lang.String"
		resultType="com.latte.dto.CafeDto">
		SELECT
		cafe_id,
		cafe_name,
		cafe_phone,
		latitude,
		longitude,
		like_count,
		tag,
		mon_open,
		mon_close,
		tue_open,
		tue_close,
		wed_open,
		wed_close,
		thu_open,
		thu_close,
		fri_open,
		fri_close,
		sat_open,
		sat_close,
		sun_open,
		sun_close,
		closed
		from
		cafe
		where
		cafe_address like
		'%'+#{cafe_address}+'%';
	</select>


	<insert id="addCafe" parameterType="com.latte.dto.CafeDto">
		INSERT INTO
		(
		cafe_name,
		cafe_address,
		cafe_phone,
		latitude,
		longitude,
		like_count,
		tag,
		mon_open,
		mon_close,
		tue_open,
		tue_close,
		wed_open,
		wed_close,
		thu_open,
		thu_close,
		fri_open,
		fri_close,
		sat_open,
		sat_close,
		sun_open,
		sun_close
		) VALUES (
		#{cafe_name},
		#{cafe_address},
		#{cafe_phone},
		#{latitude},
		#{longitude},
		#{like_count},
		#{tag},
		#{mon_open},
		#{mon_close},
		#{tue_open},
		#{tue_close},
		#{wed_open},
		#{wed_close},
		#{thu_open},
		#{thu_close},
		#{fri_open},
		#{fri_close},
		#{sat_open},
		#{sat_close},
		#{sun_open},
		#{sun_close}
	</insert>

	<update id="updateCafeById"
		parameterType="com.latte.dto.CafeDto">
		UPDATE cafe SET
		cafe_name = #{cafe_name},
		cafe_address = #{cafe_address},
		cafe_phone =#{cafe_phone},
		latitude = #{latitude},
		longitude =#{longitude},
		like_count =#{like_count},
		tag =#{tag},
		mon_open =#{mon_open},
		mon_close =#{mon_close},
		tue_open =#{tue_open},
		tue_close =#{tue_close},
		wed_open =#{wed_open},
		wed_close =#{wed_close},
		thu_open =#{thu_open},
		thu_close =#{thu_close},
		fri_open =#{fri_open},
		fri_close =#{fri_close},
		sat_open =#{sat_open},
		sat_close =#{sat_close},
		sun_open =#{sun_open},
		sun_close =#{sun_close},
		closed = #{closed}
		WHERE
		cafe_id=#{cafe_id}
	</update>
	<delete id="deleteCafeById" parameterType="java.lang.Integer">
		DELETE FROM cafe WHERE cafe_id=#{cafe_id}

	</delete>


	<!-- <select id="getCafeTimeByctId" parameterType="java.lang.Integer" resultType="com.latte.dto.CafeTimeDto"> 
		SELECT mon_open, mon_close, tue_open, tue_close, wed_open, wed_close, thu_open, 
		thu_close, fri_open, fri_close, sat_open, sat_close, sun_open, sun_close, 
		closed FROM cafe_time WHERE ct_id=#{ctid} </select> <select id="addCafeTime" 
		parameterType="com.latte.dto.CafeTimeDto" resultType="java.lang.Integer"> 
		INSERT INTO cafe_time (mon_open, mon_close, tue_open, tue_close, wed_open, 
		wed_close, thu_open, thu_close, fri_open, fri_close, sat_open, sat_close, 
		sun_open, sun_close, closed) VALUES ( #{mon_open}, #{mon_close}, #{tue_open}, 
		#{tue_close}, #{wed_open}, #{wed_close}, #{thu_open}, #{thu_close}, #{fri_open}, 
		#{fri_close}, #{sat_open}, #{sat_close}, #{sun_open}, #{sun_close}, #{closed} 
		) </select> <select id="updateCafeTimeDtoInfo" parameterType="com.latte.dto.CafeTimeDtoDto" 
		resultType="java.lang.Integer"> UPDATE cafe_time SET mon_open=#{mon_open}, 
		mon_close=#{mon_close}, tue_open=#{tue_open}, tue_close=#{tue_close}, wed_open=#{wed_open}, 
		wed_close=#{wed_close}, thu_open=#{thu_open}, thu_close=#{thu_close}, fri_open=#{fri_open}, 
		fri_close=#{fri_close}, sat_open=#{sat_open}, sat_close=#{sat_close}, sun_open=#{sun_open}, 
		sun_close=#{sun_close}, closed=#{closed} } </select> -->
</mapper>